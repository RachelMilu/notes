# css权威指南

### 非结构化页面的缺点
网页不易被搜索引擎发现
用户访问性降低
易于维护
### 替换和非替换元素
替换元素如img，是指用来替换元素内容的部分并非由文档的内容直接表示。
还有input，取决于input元素的类型。替换元素显示时也生成框。

非替换元素得内容由用户代理(通常是浏览器)在元素本身生成的框中显示。

css2.1中的另外两种基本元素类型：块级元素和行内元素
块级元素生成一个元素框，默认填充父元素的内容区，前后不能有其他元素(生成了分隔符)。

行内元素在一个文本行内生成一个元素框，不会打断这行文本。

注意与XHTML的行内元素与块级元素的差别：XHTML的行内元素不可以继承自块级元素。css中没这个限制，即css可以通过display来修改元素的显示角色。

## 第三章 结构和层叠 (继承、特殊性和层叠)
真真理解选择器和如何组合选择器，需要深入地掌握选择器与文档结构的关系，并了解继承和层叠机制在确定如何为元素设置样式时有怎样的作用。

每个合法的文档都会生成一个结构树。这就是继承的核心。

继承是从一个元素向其后代元素传递属性值所采用的机制。
层叠就是在确定一个元素应当应用那些值时，用户代理需要考虑继承、声明的特殊性和声明本身的来源。

### 特殊性(specificity)
如果一个元素有两个或者多个冲突的属性声明，最高特殊性的声明就会胜出。
所有的样式冲突都是由`层叠`来解决的。

`内联样式，id，类/属性，元素/伪元素 `
重要声明（！important）比上面特殊性都高，放置在最后，即分号前面。
不是十进制哈 完全按左到右比较

 合通配选择器 为0，0，0，0，结合符连0都没有，它们对特殊性没有影响。

 ### 继承
 样式不仅会应用到指定元素，还会传递到它的后代元素。
 元素不会把值传递给祖先元素，除了body的背景样式可以传递到html元素。

不会被继承的属性有：
border、margin、padding、background

继承的值没有特殊性，所以通配符*的声明会短路调继承的声明。

### 层叠
如果继承性完全相同的规则同时应用和到同一个元素上，会怎么样捏？

层叠规则：
1.找出所欲相关规则，这些规则都包含于一个给定元素匹配的选择器。
2.按显式权重排序(important高于非important；来源：创作人员高于读者高于用户代理；有important的读者样式高于有important的创作人员样式)
3.按特殊性排序
4.按出现的顺序排序

## 第四章 值和单位
### em和ex 
ex一般为0.5em 浏览器是这么实现的
### 像素长度 
* 显示器被划分成有一个个小框组成的网格，每一个框就是一个像素。
* css规范建议如果一个显示类型的设置与96ppi截然不同，用户代理应当把像素度量缩放为一种参考像素。
### url
css中的相对url要相对于样式表本身，而不是使用该样式表的html。
url与开始括号之间不能有空格；
### 关键字
ingerit 表示一个属性的值与其父元素的值相同。
### css2.1的样式单位
角度值 deg， 梯度grad和弧度rad
时间值 ms s
频率值 赫兹Hz 或 兆赫兹MHz 值后面跟的标签不分大小写

## 第五章 字体
### 字体系列 font family：Times 、Verdana、 Helvetica、 Arial
通用字体系列：
Serif 字体： 字体成比例（字符根据其不同大小有不同的宽度），且有上下短线。
Sans-serif：成比例的，没有上下短线。包括Helvetica，Geneva，Verdana，Arial，Univers
Monospace：不成比例的，用于模拟打字机打出的文本，每个字符的宽度都完全相同。可能有上下短线，也可能没有。包括Courier，Courier New 和Andale Mono。
Cursive；模仿认得手写体
Fantasy：无法用任何特征来定义，即无法划分。

### 使用引号
只有当一个字体名中有一个或多个空格，或者如果字体名包# 或者$之类的符号，才需要在font-famile中加引号。
单引号还是双引号无所谓，但是当写行内样式的时候，要使用属性没有使用的引号。

### 字体加粗
100-900 数字对应一个加粗度，每一个数字至少不能比前一个变形更细。
一般来讲，这些数都被定义为与某个常用变形名等价：400定义为等价于normal，700对应于bold；
如果有一个自已变形标为Normal、Regular、Roman或者Book，就会为之指定400，Medium的变形会指定为500；当Medium的变形是唯一可用的变形的话，它会指定为400。

如果字体系列的定义的加粗度少于9种，用户代理就需要填补空白：
* 如果未指定500的加粗度，其字体加粗与400的加粗应相同；
* 如果未指定300的加粗度，则为之指定下一个比400更细的变形，如果没有可用的较细的变形，为300指定的变形等同于400的相应变形。同样适用于200 100
* 如果未指定600的加粗度，会为之指定下一个比400更粗的变形。如果没有可用的较粗的变形，为600指定的变形则等同于500的变形。

#### 让字体更粗
如果讲一个元素的加粗设置为bolder，用户代理首先必须确定从父元素继承的font-weight值，然后选择一个数，这个数对应一个比所继承的值更粗的一个字体变形，而且要在满足这个条件的所有数中选择最小的一个。如果没有可用的字体，用户代理会把该元素的字体加粗成下一个更大的数字，除非已经是900；

* 让字体更细同理

###  字体大小
font-size属性的作用是为给定字体的em框提供一个大小，这个em方框指示如果没有额外行间距(line-height)设置字体时基线间的距离。

* 相对大小关键字：larger 和 smaller，
  这些关键字会导致font-size的计算值上移或者下移。

这两个关键字是元素的大小相对于其父元素的大小在绝对大小提付上上移或者下移，在此会使用计算绝对大小时采用的缩放因子。
相对大小值不会限制在绝对大小范围内，可以超过，超过的话就是乘以缩放因子。

* 绝对大小
  font-size的绝对大小关键字：
  xx-small x-small small medium large x-large xx-large

css1规范：一个绝对大小与下一个绝对大小之间的差别(缩放因子) 应当是向上1.5 或向下0.66.

css2中缩放因子可能介于1.0-1.2之间。

### 百分数
百分数值总是根据父元素继承来的大小来计算，比相对大小关键字有更精细的控制。

### 有风格的字体
font-style用于在normal、italic、oblique文本之间进行选择。

斜体(italic)是一种单独的字体风格，对每个字母的结构有一些小改动，来反应外观的变化。

倾斜(oblique)文本则是正常竖直文本的一个倾斜版本。

标为Italic、Cursive、Kursiv的字体总是映射到italic关键字；
而oblique总是对应到标为Oblique、Slanted、Incline的字体。

浏览器一般不能复杂到足以区分斜体和倾斜。

### 字体变形
font-variant 只有两个非继承值：normal 和 small-caps
small-caps要求使用小型大写字母文本。

### 拉升和调整字体
font-stretch 用于让一种字体的字符更胖或更瘦。
这个属性有一系列的绝对值，还有两个值允许创作人员增加或减少字体的拉伸度。
normal、wider、narrower

font-size-adjust 当所用的字体并非创作人员的首选时，仍然保证可以辨识。
x-height除以font-size的结果成为方面值(aspect value)，方面值比较低的字体在随着字体减小，会变得无法辨识。

调整后的font-size = 声明的font-size * (font-size-ajust / 方面值)

### font
[[<font-style>]||[<font-variant>]||[<font-weight>]？<font-size> [/<line-height>]?<font-family>]|caption|icon|menu|message-box|small-caption|status-bar|inherit

font属性可以用很宽松的方式制定， font-style、font-weight、fon-variant可以按任意顺序书写，如果其中某个属性的值为normal，则可以忽略。

必须有font-size和font-family，且顺序必须是这样。如果少了其中某个属性，那么整个规则都会变成无效的。

font 也可以设置行高，作为font-size的一个补充，用一个斜线(/)与之分隔。

在使用font属性时，所有被忽略的属性都会被重置为其默认值。

### 使用系统字体
系统字体值可以使元素拥有类似操作系统的界面，对font使用下面这些值：
caption 用于有标题的控件，如按钮。
icon 用于对图标加标签。
menu 用于菜单，即下拉菜单和菜单列表。
message-box 用于对话框
small-caption 用于对小控件加标签。
status-bar 用于窗口状态条。

### 字体匹配
原理：
1.用户代理创建(或访问)一个字体属性数据库。这个库列出了用户代理能访问的所有字体的各种css属性。
2.用户代理去的应用了字体属性的元素，并构建一个字体属性列表，其中列出显示该元素的必要字体属性。基于这个列表，ua先对显示元素时的字体系列做第一个选择，如果完全匹配，那么用户代理就可以使用这个字体，否则：字体依次根据font-style、font-variant、font-weight、font-size进行匹配。
3.如果在第二步中没有匹配任何字体，ua就会在字体系列中查找下一个候选字体。找到了就重复第二步。
4.假设找到一个通用匹配，但是这个字体不包含给定元素所需的一切，就要回到第三步。
5.最后，如果没有找到匹配，而且所有的候选字体都已经试过了，用户就为选择默认字体，尽其所能的正确的显示字体。

## 第六章 文本属性
### 缩进文本
text-indent 元素的第一行可以缩进一个给定长度，甚至该长度可以是负值。
如果是百分比的话，相对于包含块的宽度。
如果是长度值的话，就是绝对长度。
可以继承。css2.1之前，text-indent总是继承计算值而不是声明值。

无法将这个属性应用到行内元素。

### 水平对齐 text-align
left right center justify

只应用于块级元素，无法将行内的一个锚居中而不影响行中的其余部分。

西方语言默认居左，希伯来和阿拉伯语居右。
justify表示两端对齐，ua可能会在单词之间增加额外的空间，也可能平均分组字母键的额外空间。
当letter-spacing属性指定为一个长度值，用户代理不能进一步增加或减少字符间的空间。
css规范没有指定如何处理连字符。

### 垂直对齐 line-height
可以是百分数，em或者一个数
line-height属性指定文本行基线之间的距离，确定了将各个元素框的高度增加或减少多少。
应用到块级元素时，line-height定义了元素中文基本线之间的最小距离。不是一个绝对数值，文本基线拉开的距离可能比line-height值更大。
line-height并不影响替换元素，但是可以应用到替换元素。
line-height和字体大小之差就是行间距。

百分数相对于元素的字体大小；


文本行中的每个元素都会生成一个内容区，这个内容区回生成一个行内框(inline box)，如果不存在其他因素，这个行内框就完全等于改元素的内童趣。line-height就是改变了行内匡的高度。

### 行高和继承

当一个款级元素丛林一个元素继承line-height时，问题会变得更为复杂。
line-值从父元素继承时，要从父元素计算，而不是子元素计算。

指定一个数时，缩放因子就是子元素计算。
如果指点inherit，元素会使用父元素的计算值。

### 垂直对齐文本 vertical-align
8个关键字，一个百分数值或者一个长度值
baseline 要求一个元素的基线与他父元素的基线对齐。(底端对齐)
sub 使一个元素变成下标 基线相对一起父元素的基线降低
super 上标 
bottom 元素行内框的底端与行框的底端对齐
text-bottom 对于替换元素或者非文本元素，要对齐的元素的行内框底端与父元素的font-size高度的文本框的底端对齐，
middle 行内元素框的中点与父元素基线上方0.5ex处的一个点对齐；1ex相对于父元素的font-size定义，且往往等一0.5em；因此，middle往往将元素的垂直中点与父元素基线上方0.25em处对齐。
top
text-top
百分数 会把元素的基线相对于父元素的极限升高或降低相对于该元素的line-height的百分数


vertical-align属性只应用于行内元素和替换元素，如图像和表单输入元素。
vertical-align属性不能继承。















































